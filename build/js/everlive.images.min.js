!function(a,b,c){"use strict";var d,e={},f=[],g={dataSrc:"data-src",dataDpi:"data-resimg-dpi",urlTemplate:"[protocol][hostname][apikey]/[operations][url]"},h={server:"bs1.cdn.telerik.com/image/v1/",apiKey:"",resOnLoad:!0,resOnResize:!0,ssl:!1,resClass:"resimgs",onReady:null,onError:null,debug:!1};Array.prototype.inArray=function(a){for(var b=0,c=this.length;c>b;b++)if(a(this[b]))return!0;return!1},Array.prototype.pushIfNotExist=function(a,b){this.inArray(b)||this.push(a)},Array.prototype.forEach=Array.prototype.forEach||function(a){if(void 0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw new TypeError;for(var d=arguments.length>=2?arguments[1]:void 0,e=0;c>e;e++)e in b&&a.call(d,b[e],e,b)},String.prototype.isNumber=function(){return!isNaN(parseFloat(this))&&isFinite(this)},Object.keys=Object.keys||function(){var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=c.length;return function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on non-object");var f=[];for(var g in e)a.call(e,g)&&f.push(g);if(b)for(var h=0;d>h;h++)a.call(e,c[h])&&f.push(c[h]);return f}}(),b.getComputedStyle=b.getComputedStyle||function(a){return this.el=a,this.getPropertyValue=function(b){var c=/(\-([a-z]){1})/g;return"float"==b&&(b="styleFloat"),c.test(b)&&(b=b.replace(c,function(){return arguments[2].toUpperCase()})),a.currentStyle[b]?a.currentStyle[b]:null},this},c.getElementsByClassName=c.getElementsByClassName||function(a){var b,d,e,f=[];if(c.querySelectorAll)return c.querySelectorAll("."+a);if(c.evaluate)for(d=".//*[contains(concat(' ', @class, ' '), ' "+a+" ')]",b=c.evaluate(d,c,null,0,null);e=b.iterateNext();)f.push(e);else for(b=c.getElementsByTagName("*"),d=new RegExp("(^|\\s)"+a+"(\\s|$)"),e=0;e<b.length;e++)d.test(b[e].className)&&f.push(b[e]);return f};var i=function(a){a=a||{};for(var b=1,c=arguments.length;c>b;b++)if(arguments[b])for(var d in arguments[b])arguments[b].hasOwnProperty(d)&&(a[d]=arguments[b][d]);return a},j=function(a){return"undefined"==typeof a||null===a||""===a},k=function(a){return"img"===a},l=function(){var a=e.apiKey,b=j(a);return b?(console.log("Backend Services API Key is not set."),!1):b||"string"==typeof a?!0:(console.log("Backend Services API Key should be a String"),!1)},m={log:function(){if(e.debug&&console&&"function"==typeof console.log)for(var a=0,b=arguments.length;b>a;a++)console.log(arguments[a])}},n=function(a,b,c){var d;return function(){function e(){c||a.apply(f,g),d=null}var f=this,g=arguments;d?clearTimeout(d):c&&a.apply(f,g),d=setTimeout(e,b||100)}},o=function(a){return a?"https://":"http://"},p=function(){return b.devicePixelRatio?b.devicePixelRatio:1},q=function(a){var b=s(a,g.dataDpi)||"";return""!==b?b.isNumber()?parseFloat(b):!1:p()},r=function(){return c.getElementsByClassName(e.resClass)},s=function(a,b){var c=a.getAttribute(b);return c||!1},t=function(a){var b=[];return a.forEach(function(a){b.push(a[0])}),b},u=function(a){var c=a.parentNode,d=c.offsetWidth,e=b.getComputedStyle(c,null),f=parseFloat(e.getPropertyValue("padding-left")),g=parseFloat(e.getPropertyValue("padding-right")),h=parseFloat(e.getPropertyValue("border-left-width")),i=parseFloat(e.getPropertyValue("border-right-width"));return Math.abs(d-Math.ceil(f+g+h+i))},v=function(a){return Math.ceil(a.offsetWidth)},w=function(a){var c=b.getComputedStyle(a,null),d=c.getPropertyValue("background-image");return"none"!==d?d:!1},x=function(a){if(!a||"undefined"==typeof a||a.length<=1)return!1;for(var b=!1,c=[],d=a.split("/"),e=d.length,f=0;e>f;f++){var g=d[f].split("="),h={};g[1]="undefined"==typeof g[1]?!1:unescape(g[1].replace(/\+/g," ")),h[g[0]]=g[1],c.push(h),"resize"===g[0]&&(b=!0)}return{params:c,isUserResize:b}},y=function(a){var b="",c=a.replace(/.*?resize=[^//]*\//gi,""),d=new RegExp("https?://","gi"),f=new RegExp(e.server,"gi"),g=new RegExp(e.apiKey+"/","gi");return b=a.replace(c,"").replace(d,"").replace(f,"").replace(g,"").toLowerCase(),b=""!==b?b.indexOf("/")?b.substring(0,b.length-1):b:!1,b=x(b),b.isUserResize&&(c=a),{imgUrl:c,operations:b.params,isUserResize:b.isUserResize}},z=function(a){for(var b="",c=0,e=a.length;e>c;c++){var f,g=a[c],h=Object.keys(g)[0];if(k(d.tag)||"resize"!==h){var i=q(d.item);i=i?",pd:"+i:"";for(var j in g)f="resize"===h?g[j]+i:g[j];b+=h+"="+f+"/"}}return b},A=function(a){var b=o(e.ssl),c=e.server,f=e.apiKey,h=g.urlTemplate,i=q(d.item);i=i?",pd:"+i:"",h=h.replace("[protocol]",b),h=h.replace("[apikey]",f?f:""),h=h.replace("[hostname]",c);var j=d.operations||!1;if(j){var l="";j=z(j),l=k(d.tag)?a?"resize=w:"+a+i+"/"+j:j:"resize=w:"+a+i+"/"+j,h=h.replace("[operations]",l)}else h=h.replace("[operations]","resize=w:"+a+i+"/");return h=h.replace("[url]",d.imgUrl)},B=function(a,b,c,d){var f=new Image;f.onerror=function(){m.log("ERROR: Can't be loaded: "+this.src);var b=e.onError&&"function"==typeof e.onError;b&&e.onError(a);var c=d&&"function"==typeof d;c&&d(a)},f.onload=function(){k(c)?(a.src=b,a.style.visibility="visible"):a.style.backgroundImage="url("+b+")";var e=d&&"function"==typeof d;e&&d()},f.src=b},C=function(a){l()&&(a=a||r(),[].forEach.call(a,function(a){var b=a.tagName.toLowerCase();a={item:a,tag:b,processed:!1},f.pushIfNotExist(a,function(b){return b.item===a.item})}),D())},D=function(){var a,b=0,c=f.length;f.forEach(function(a){a.processed=!1}),f.forEach(function(f,g){d=f,a=F(g,function(){b++,b===c&&E(e)})})},E=function(a){var b=a.onReady&&"function"==typeof a.onReady;if(b){var c=[];f.forEach(function(a){a.processed&&c.push(a.item)}),a.onReady({count:c.length,items:c})}},F=function(a,b){var c,e,h,i=d.item,j=d.tag,l=d.processed,n=k(j);if(n?c=s(i,g.dataSrc):(c=w(i),c=c.replace(/url\(('?"?)(.*?)\1\)/gi,"$2")),!c)return void m.log(n?"ERROR: No data-src attribute: "+i.outerHTML:"ERROR: No background-image: "+i.outerHTML);if(e=y(c),d.operations=e.operations,d.imgUrl=e.imgUrl,d.isUserResize=e.isUserResize,d.isUserResize||(h=n?u(i):v(i)),!l){h=h?h:!1;var o="";return o=d.isUserResize?d.imgUrl:A(h),B(i,o,j,function(c){c||(f[a].processed=!0),b&&"function"==typeof b&&b(c,i,o,j)}),!0}return!1},G=function(a){b.addEventListener?b.addEventListener("resize",n(a),!1):b.attachEvent&&b.attachEvent("onresize",n(a))};a.init=function(a){a=a||{},"string"==typeof a&&(a={apiKey:a}),e=i({},h,a),l()&&(f=[],e.resOnLoad&&C(),e.resOnResize&&G(D))},a.responsive=function(a){return f=[],a?(!a.length&&a.nodeType?a=[a]:a.length>1&&!a[0].nodeType&&(a=t(a)),void C(a)):void C()},a.responsiveAll=function(){f=[],C()}}(window.everliveImages=window.everliveImages||{},window,document);